<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Book Haven Login</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,600,0,0"
    />
    <link rel="stylesheet" href="style.css" />
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-auth.js"></script>
  </head>
  <body>
    <img class="clouds" src="bg.svg" />
    <div class="signup">
      <h2>Sign In</h2>
      <form class="form" onsubmit="signUp(event)">
        <div class="textbox">
          <input type="text" required />
          <label>Email</label>
          <span class="material-symbols-outlined"> email </span>
        </div>
        <div class="textbox">
          <input type="password" required />
          <label>Password</label>
          <span class="material-symbols-outlined"> key </span>
        </div>
        <p>
          New user?
          <a href="indexmain.html">Sign-up here</a>
        </p>

        <button type="submit" id="submit">
          Login
          <span class="material-symbols-outlined"> arrow_forward </span>
          <script>window.addEventListener('DOMContentLoaded', function() {
            var submit = document.getElementById('submit');
            
            submit.addEventListener('click', function() {
              window.open('signed.html', '_blank');
            });
          });</script>
        </button>
      </form>
    </div>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDHXJUk2RHjQ4JS2wBWteuSrjWVVaga51Q",
          authDomain: "librarymanagement-5572b.firebaseapp.com",
          projectId: "librarymanagement-5572b",
          storageBucket: "librarymanagement-5572b.appspot.com",
          messagingSenderId: "646788476327",
          appId: "1:646788476327:web:d3711d422fb33698505a82"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
      </script>
      <script>
        function signUp(event) {
          event.preventDefault();
      
          // Get the user input
          const name = document.querySelector('input[name="name"]').value;
          const email = document.querySelector('input[name="email"]').value;
          const password = document.querySelector('input[name="password"]').value;
      
          // Create a new user with email and password
          firebase.auth().createUserWithEmailAndPassword(email, password)
            .then((userCredential) => {
              // Signed up successfully
              const user = userCredential.user;
              console.log("User signed up:", user);
              // You can redirect the user to another page or perform any other actions here
            })
            .catch((error) => {
              // Handle any errors that occurred during signup
              const errorCode = error.code;
              const errorMessage = error.message;
              console.error("Signup error:", errorCode, errorMessage);
            });
        }
      </script>
  </body>
</html>